<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta charset="utf-8" />
		<title>Home</title>
		<link rel="icon" th:href="@{assets/images/logo/favicon.ico}" type="image/x-icon">
		<meta name="description" content="User login page" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

		<!-- bootstrap & fontawesome -->
		<link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}" />
		<link rel="stylesheet" th:href="@{/assets/font-awesome/4.5.0/css/font-awesome.min.css}" />
        <link rel="stylesheet" th:href="@{/assets/css/jquery-ui.min.css}" />
        <link rel="stylesheet" th:href="@{/assets/css/jquery-ui.custom.min.css}" />
		<!-- text fonts -->
		<link rel="stylesheet" th:href="@{/assets/css/fonts.googleapis.com.css}" />

		<!-- ace styles -->
		<link rel="stylesheet" th:href="@{/assets/css/ace.min.css}" />

		<!--[if lte IE 9]>
			<link rel="stylesheet" href="assets/css/ace-part2.min.css" />
		<![endif]-->
		<link rel="stylesheet" th:href="@{/assets/css/ace-rtl.min.css}" />

		<!--[if lte IE 9]>
		  <link rel="stylesheet" href="assets/css/ace-ie.min.css" />
		<![endif]-->

		<!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

		<!--[if lte IE 8]>
		<script src="assets/js/html5shiv.min.js"></script>
		<script src="assets/js/respond.min.js"></script>
		<![endif]-->
	</head>

	<body class="login-layout">
		<div class="main-container">
			<div class="main-content">
				<div class="row">
					<div class="col-sm-12">
						<div class="login-container">
							
							<div class="space-24"></div>

							<div class="position-relative">
								<div id="login-box" class="login-box visible widget-box no-border">
									<div class="widget-body">
										<div class="widget-main">
										
										    <div class="center">							  
												<h1>
													<a href="#" ><img th:src="@{assets/images/logo/ysm.png}" th:width="128px"></a>									
												</h1>		
											</div>
											<h4 class="header blue dark bigger center">												
												Android Crash Course Certificate
											</h4>
											
											<div class="space-6"></div>
											
											<div th:if="${error}"  class="alert alert-danger center" >
											
											          <input type="hidden" id="studentId" th:value="${studentId}">
											           
									       		    <b>Sorry, it seems you did not attend the Android Development Crash Course.</b><br><br>
									       		    
									       		     <b class="text-success center">To get the benefits more than crash course</b><br><br>
									       		
									       		 	<h4 class="header grey dark bigger center">												
													Join Masterclass starts from <br> <b class="header red dark bigger center">4th March 2024</b>
										   			</h4>
										
													<div class="form-group center col-sm-12">	
													<a href="https://pages.razorpay.com/androidmasterclass" target="_blank" class="btn btn-danger col-sx-12 col-sm-12 center" id="masterclass">
													   ENROLL FOR MASTERCLASS
													</a>
													</div>
									       	</div>
									       	
									      

											<form class="form-horizontal" id="validation-form-1" method="post" th:action="@{/register-student}">
												
												<div class="form-group">
																<label class="control-label col-xs-12 col-sm-3" for="studentName">Name</label>

																<div class="col-xs-12 col-sm-9">
																	<div class="block clearfix input-icon input-icon-right">
																		<input type="text" class="form-control col-sm-3" name="studentName" id="studentName" placeholder="Enter your name" required="required"/>
																		<i class="ace-icon fa fa-user"></i>
																	</div>
																</div>
												</div>	
											    <div class="form-group">
																<label class="control-label col-xs-12 col-sm-3" for="Mobile">Mobile</label>

																<div class="col-xs-12 col-sm-9">
																	<div class="block clearfix input-icon input-icon-right">
																		<input type="text" class="form-control col-sm-3" name="studentMobileNumber" id="studentMobileNumber" size="10" placeholder="Enter your registered mobile number" required="required" onkeypress="return isNumber(event)"/>
																		<i class="ace-icon fa fa-phone"></i>
																	</div>
																</div>
												</div>												
												<div class="form-group">
																<label class="control-label col-xs-12 col-sm-3" for="studentCollegeName">College</label>

																<div class="col-xs-12 col-sm-9">
																	<div class="block clearfix input-icon input-icon-right">
																		<input type="text" class="form-control" name="studentCollegeName" id="studentCollegeName" placeholder="Enter your college name" />
																		<i class="ace-icon fa fa-building"></i>
																		
																	</div>
																</div>
												</div>
												<div class="form-group">
																<label class="control-label col-xs-12 col-sm-3" for="studentCollegeName">City</label>

																<div class="col-xs-12 col-sm-9">
																	<div class="block clearfix input-icon input-icon-right">
																		<input type="text" class="form-control" name="studentCity" id="studentCity" placeholder="Enter your city name"/>
																		<i class="ace-icon fa fa-home"></i>
																		
																	</div>
																</div>
												</div>
											
												<fieldset >
													<div class="clearfix ">
														<div class="center">
														<button type="submit" class="width-35 pull-right btn btn-sm btn-primary center">
															
															<span class="bigger-110"><i class="ace-icon fa fa-download"></i> Download</span>
														</button>
														</div>
													</div>
												
												</fieldset>
											</form>
											
										</div><!-- /.widget-main -->

										<div class="toolbar clearfix">
											
										</div>
									</div><!-- </.widget-body -->
								</div><!-- /.login-box -->
						     </div><!-- /.position-relative -->
							
						</div>
					</div><!-- /.col -->
				</div><!-- /.row -->
			</div><!-- /.main-content -->
		</div><!-- /.main-container -->

		<!-- basic scripts -->

		<!--[if !IE]> -->
		<script th:src="@{/assets/js/jquery-2.1.4.min.js}"></script>      
		<!-- <![endif]-->

		<!--[if IE]>
<script src="assets/js/jquery-1.11.3.min.js"></script>
<![endif]-->
		<script type="text/javascript">
			if('ontouchstart' in document.documentElement) document.write("<script src='assets/js/jquery.mobile.custom.min.js'>"+"<"+"/script>");
		</script>
		<script th:src="@{/assets/js/wizard.min.js}"></script>
		<script th:src="@{/assets/js/jquery.gritter.min.js}"></script> 
		<script th:src="@{/assets/js/jquery.maskedinput.min.js}"></script>
		<script th:src="@{/assets/js/jquery.validate.min.js}"></script>
		<script th:src="@{/assets/js/jquery-additional-methods.min.js}"></script>

		<!-- inline scripts related to this page -->
		<script type="text/javascript">
			/*jQuery(function($) {
				
			 $(document).on('click', '.toolbar a[data-target]', function(e) {
				e.preventDefault();
				var target = $(this).data('target');
				$('.widget-box.visible').removeClass('visible');//hide others
				$(target).addClass('visible');//show target
			 });
			}); */
			
			//you don't need this, just used for changing background
			jQuery(function($) {
				
		
				$("#studentMobileNumber").attr('maxlength','10');
												
				jQuery.validator.addMethod("studentMobileNumber", function (value, element) {
					return this.optional(element) || /^\d{10}$/.test(value); 
				}, "Enter a valid mobile number.");
				
				$('body').attr('class', 'login-layout light-login');
				/* $('#id-text2').attr('class', 'grey');
				$('#id-company-text').attr('class', 'blue'); */
				
				$('#validation-form-1').validate({
					errorElement: 'div',
					errorClass: 'help-block',
					focusInvalid: false,
					ignore: "",
					rules: {
						studentName: {
							required: true
						},
						studentMobileNumber: {
							required: true,
							studentMobileNumber: $("#studentMobileNumber").val(),
						},
						studentCollegeName: {
							required: true
						},
						studentCity:{
							required: true
						}
					},			
					messages: {
						studentName: "Enter your name.",
						studentMobileNumber: "Enter a valid mobile number.",
						studentCollegeName: "Enter your college name.",
						studentCity: "Enter your city name."						
					},						
					highlight: function (e) {
						$(e).closest('.form-group').removeClass('has-info').addClass('has-error');
					},			
					success: function (e) {
						$(e).closest('.form-group').removeClass('has-error');//.addClass('has-info');
						$(e).remove();
					},			
					errorPlacement: function (error, element) {
						if(element.is('input[type=checkbox]') || element.is('input[type=radio]')) {
							var controls = element.closest('div[class*="col-"]');
							if(controls.find(':checkbox,:radio').length > 1) controls.append(error);
							else error.insertAfter(element.nextAll('.lbl:eq(0)').eq(0));
						}
						else if(element.is('.select2')) {
							error.insertAfter(element.siblings('[class*="select2-container"]:eq(0)'));
						}
						else if(element.is('.chosen-select')) {
							error.insertAfter(element.siblings('[class*="chosen-container"]:eq(0)'));
						}
						else error.insertAfter(element.parent());
					},			
					submitHandler: function (form) {						
						form.submit();
					},
					invalidHandler: function (form) {
					}
				}); 
				
				$('#masterclass').click( function() {
					  var studentId = $("#studentId").val();
					  console.log(studentId);
					  $.ajax({
						  url: 'updateEnrollStatusUnregisted',
						  type: 'GET',
						  dataType : 'json',
				          async : false,						  
						  data: {"studentId":studentId},
						  success: function(data) {
							console.log(data);
						  },
						  error: function(e) {
							//called when there is an error
							//console.log(e.message);
						  }
					  });
				});
			 
			});
			
			function isNumber(evt) {
			    evt = (evt) ? evt : window.event;
			    var charCode = (evt.which) ? evt.which : evt.keyCode;
			    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
			        return false;
			    }
			    return true;
			}
		</script>
	</body>
</html>
